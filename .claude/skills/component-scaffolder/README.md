# Component Scaffolder Skill

**Version**: 1.0.0
**Priority**: ⭐⭐⭐ Tier 1 Essential

## Purpose

Generate new design system components following established patterns from the codebase.

## Auto-trigger Patterns

This skill automatically activates when the user says:
- "create a new [component type] component"
- "add a ccm[ComponentName] component"
- "scaffold a [component] in the design system"

## Workflow

When triggered, this skill:

1. **Load Configuration**: Read `.claude/config/component-patterns.json` for learned patterns
2. **Determine Category**: Classify component as atom/molecule/organism based on request
3. **Scaffold Component**: Create component file in `src/components/ds/[category]/ccm[Name].vue`
4. **Generate Demo**: Create demo file in `src/components/docs/demos/ccm-[name]-demo.vue`
5. **Create Tests**: Generate test file in `src/tests/components/ccm[Name].test.ts`
6. **Update Docs**: Run `npm run docs:generate`

## Component Structure

### Template
- Required slots: `default`
- Optional slots: `image`, `action`, `icon`

### Script
- `defineOptions`: Set `inheritAttrs` based on `NODE_ENV`
- Props categories: structural, content, visual, accessibility, behavior
- Computed pattern: `cssVars` for dynamic styling

### Style
- Always scoped
- CSS vars pattern: `--_ccm-{component}-{property}`
- Token preference: semantic > primitive

## Common Props

All components should support these common props where applicable:

- `size`: String (default: 'm', values: 's', 'm', 'l', 'xl')
- `color`: String (default: 'base', values: primary, secondary, base, accent, white, success, fail, warning, info)
- `variant`: String (context-dependent)
- `backgroundColor`: String (default: 'transparent')

## Accessibility Requirements

- Required ARIA label fallback
- Focus visible: `2px solid var(--color-primary), offset 2px`
- Disabled pattern: `opacity 0.5, cursor not-allowed, pointer-events none`

## Demo Structure

Demos should include these sections:
1. baseline-usage
2. variants
3. sizes
4. colors
5. accessibility-check

## Configuration

Configuration is loaded from `.claude/config/component-patterns.json`. This file is generated by analyzing existing components using:

```bash
npm run analyze:components
```

## Example Usage

**User**: "Create a new button component"

**Skill Actions**:
1. Load component patterns
2. Classify as atom (simple interactive element)
3. Create `src/components/ds/atoms/ccmButton.vue`
4. Create `src/components/docs/demos/ccm-button-demo.vue`
5. Create `src/tests/components/ccmButton.test.ts`
6. Run docs generation

## Dependencies

- Configuration: `.claude/config/component-patterns.json`
- Scripts: `npm run docs:generate`

## Output Locations

- Components: `src/components/ds/[category]/`
- Demos: `src/components/docs/demos/`
- Tests: `src/tests/components/`
